var vanillaCalendar={month:document.querySelectorAll('[data-calendar-area="month"]')[0],next:document.querySelectorAll('[data-calendar-toggle="next"]')[0],previous:document.querySelectorAll('[data-calendar-toggle="previous"]')[0],label:document.querySelectorAll('[data-calendar-label="month"]')[0],activeDates:null,selectedDate:null,selectedStartDate:null,selectedEndDate:null,options:{isMultiSelect:!1,disablePastDays:!1},date:new Date,todaysDate:new Date,schedule:{},init:function(e,t,a){if(e)for(var s=Object.keys(e),d=0;d<s.length;d++)this.options[s]=e[s];var l=t?t-1:this.date.getDate();this.date.setDate(1),this.date.setMonth(l),this.createMonth(),this.createListeners()},createListeners:function(){var t=this;this.next&&this.next.addEventListener("click",function(){t.clearCalendar();var e=t.date.getMonth()+1;t.date.setMonth(e),t.createMonth()}),this.previous&&this.previous.addEventListener("click",function(){t.clearCalendar();var e=t.date.getMonth()-1;t.date.setMonth(e),t.createMonth()})},createDay:function(e,t,a){var s=document.createElement("div"),d=document.createElement("span");d.innerHTML=e,d.classList.add("vcal-data-num"),s.className="vcal-date";var l=this.date.getFullYear().toString(),i=this.leftZero((this.date.getMonth()+1).toString()),c=this.leftZero(this.date.getDate().toString());s.setAttribute("data-calendar-date",l+i+c),1===e&&(0===t?this.makeEmptyDay(6):this.makeEmptyDay(t-1)),this.options.disablePastDays&&this.date.getTime()<=this.todaysDate.getTime()-1?s.classList.add("vcal-date--disabled"):(s.classList.add("vcal-date--active"),s.setAttribute("data-calendar-status","active")),this.date.toString()===this.todaysDate.toString()&&s.classList.add("vcal-date--today"),s.appendChild(d),this.month.appendChild(s)},makeEmptyDay:function(e){for(var t=0;t<e;t++){var a=document.createElement("div"),s=document.createElement("span");s.classList.add("vcal-data-num"),a.className="vcal-date",a.classList.add("vcal-date--disabled"),a.appendChild(s),this.month.appendChild(a)}},dateClicked:function(){var t=this;this.activeDates=document.querySelectorAll('[data-calendar-status="active"]');for(var e=0;e<this.activeDates.length;e++)this.activeDates[e].addEventListener("click",function(e){t.setValue(this.dataset.calendarDate)})},setValue:function(e){var t=document.querySelectorAll('[data-calendar-label="picked"]')[0];if(this.removeActiveClass(),this.options.isMultiSelect){null==this.selectedStartDate?this.selectedStartDate=e:this.selectedStartDate&&this.selectedEndDate?(this.selectedStartDate=e,this.selectedEndDate=null):e<this.selectedStartDate?(this.selectedEndDate=this.selectedStartDate,this.selectedStartDate=e):e>this.selectedStartDate&&(this.selectedEndDate=e);var a=this.selectedStartDate?this.selectedStartDate:"",s=this.selectedEndDate?this.selectedEndDate:"",d=a.substring(a.length-2,a.length),l=s.substring(s.length-2,s.length);if(this.selectedEndDate)for(var i=d;i<=l;i++){var c=i<10?"0"+parseInt(i):i,r=a.substring(0,a.length-2)+c;document.querySelectorAll('[data-calendar-date="'+r+'"]')[0].classList.add("vcal-date--selected")}else document.querySelectorAll('[data-calendar-date="'+a+'"]')[0].classList.add("vcal-date--selected");t.innerHTML=a+" - "+s}else{document.querySelectorAll('[data-calendar-date="'+e+'"]')[0].classList.add("vcal-date--selected");t=document.querySelectorAll('[data-calendar-label="picked"]')[0];this.selectedDate=e,t.innerHTML=this.selectedDate}},createMonth:function(){for(var e=this.date.getMonth();this.date.getMonth()===e;)this.createDay(this.date.getDate(),this.date.getDay(),this.date.getFullYear()),this.date.setDate(this.date.getDate()+1);this.date.setDate(this.date.getDate()-1),this.makeEmptyDay(7-this.date.getDay()),this.date.setDate(1),this.label.innerHTML=this.monthsAsString(this.date.getMonth())+" "+this.date.getFullYear(),this.dateClicked()},makeSchdule:function(e){this.removeSchedule(),e&&(this.schedule=e);var t=Object.keys(this.schedule);for(i=0;i<t.length;i++){console.log(this.schedule[t[i]]);var a=this.schedule[t[i]].fromdate,s=this.schedule[t[i]].todate,d=this.schedule[t[i]].text;d=d||"";var l=a.substring(a.length-2,a.length),c=s.substring(s.length-2,s.length);this.date.setDate(l);var r=this.date.getDay();this.date.setDate(c);var n=this.date.getDay();r=0==r?7:r,n=0==n?7:n;var h=document.createElement("div");h.classList.add("vcal-schdule-wrapper-left-edge");var o=document.createElement("div");if(h.appendChild(o),o.setAttribute("data-caldendar-schedule-from",a),o.setAttribute("data-caldendar-schedule-to",s),o.setAttribute("data-caldendar-schedule-grp",t[i]),o.classList.add("vcal-schdule"),o.classList.add("vcal-left-radius"),o.innerHTML=d,r<n&&c-l<=7){o.classList.add("vcal-right-radius"),h.classList.add("vcal-schdule-wrapper-right-edge"),h.style.width=100*(n-r+1)+"%",h.classList.add("vcal-schdule-wrapper"),(f=document.querySelectorAll('[data-calendar-date="'+a+'"]')[0]).appendChild(h)}else{h.style.width=100*(7-r+1)+"%",h.classList.add("vcal-schdule-wrapper-right");var u=c-l-(7-r+1),v=c-u;this.date.setDate(v);var g=this.getYYYYMMDD(this.date);this.date.setDate(v-1);var D=this.getYYYYMMDD(this.date),m=document.createElement("div");m.classList.add("vcal-schdule-wrapper");var p=document.createElement("div");m.appendChild(p),m.classList.add("vcal-schdule-wrapper-right-edge"),m.style.width=100*(u+1)+"%",p.setAttribute("data-caldendar-from",a),p.setAttribute("data-caldendar-schedule-to",s),p.setAttribute("data-caldendar-schedule-grp",t[i]),u<2&&(p.innerHTML=d,o.innerHTML="");var f=document.querySelectorAll('[data-calendar-date="'+D+'"]')[0],S=document.querySelectorAll('[data-calendar-date="'+g+'"]')[0];p.classList.add("vcal-schdule"),p.classList.add("vcal-right-radius"),f.appendChild(h),S.appendChild(m)}}},removeSchedule:function(){var e=document.querySelectorAll('[class="vcal-schdule-wrapper"]'),t=document.querySelectorAll('[class="vcal-schdule-wrapper-right"]');if(e)for(var a=0;a<e.length;a++)e[a].remove();if(t)for(a=0;a<t.length;a++)t[a].remove()},leftZero:function(e){return e<10?"0"+e:e},getYYYYMMDD:function(e){return this.date.getFullYear().toString()+this.leftZero((this.date.getMonth()+1).toString())+this.leftZero(this.date.getDate().toString())},monthsAsString:function(e){return["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"][e]},clearCalendar:function(){vanillaCalendar.month.innerHTML=""},removeActiveClass:function(){for(var e=0;e<this.activeDates.length;e++)this.activeDates[e].classList.remove("vcal-date--selected")}};