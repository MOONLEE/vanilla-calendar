var vanillaCalendar={month:document.querySelectorAll('[data-calendar-area="month"]')[0],next:document.querySelectorAll('[data-calendar-toggle="next"]')[0],previous:document.querySelectorAll('[data-calendar-toggle="previous"]')[0],label:document.querySelectorAll('[data-calendar-label="month"]')[0],activeDates:null,selectedDate:null,selectedStartDate:null,selectedEndDate:null,options:{isMultiSelect:!1,disablePastDays:!1},date:new Date,todaysDate:new Date,schedule:{},init:function(t,e,a){if(t)for(var s=Object.keys(t),d=0;d<s.length;d++)this.options[s]=t[s];var l=e?e-1:this.date.getDate();this.date.setDate(1),this.date.setMonth(l),this.createMonth(),this.createListeners()},createListeners:function(){var t=this;this.next&&this.next.addEventListener("click",function(){t.clearCalendar();var e=t.date.getMonth()+1;t.date.setMonth(e),t.createMonth()}),this.previous&&this.previous.addEventListener("click",function(){t.clearCalendar();var e=t.date.getMonth()-1;t.date.setMonth(e),t.createMonth()})},createDay:function(t,e,a){var s=document.createElement("div"),d=document.createElement("span");d.innerHTML=t,d.classList.add("vcal-data-num"),s.className="vcal-date";var l=this.date.getFullYear().toString(),i=this.date.getMonth()+1<10?"0"+(this.date.getMonth()+1).toString():(this.date.getMonth()+1).toString(),n=this.date.getDate()<10?"0"+this.date.getDate().toString():this.date.getDate().toString();s.setAttribute("data-calendar-date",l+i+n),1===t&&(0===e?this.makeEmptyDay(6):this.makeEmptyDay(e-1)),this.options.disablePastDays&&this.date.getTime()<=this.todaysDate.getTime()-1?s.classList.add("vcal-date--disabled"):(s.classList.add("vcal-date--active"),s.setAttribute("data-calendar-status","active")),this.date.toString()===this.todaysDate.toString()&&s.classList.add("vcal-date--today"),s.appendChild(d),this.month.appendChild(s)},makeEmptyDay:function(t){for(var e=0;e<t;e++){var a=document.createElement("div"),s=document.createElement("span");s.classList.add("vcal-data-num"),a.className="vcal-date",a.classList.add("vcal-date--disabled"),a.appendChild(s),this.month.appendChild(a)}},dateClicked:function(){var t=this;this.activeDates=document.querySelectorAll('[data-calendar-status="active"]');for(var e=0;e<this.activeDates.length;e++)this.activeDates[e].addEventListener("click",function(e){t.setValue(this.dataset.calendarDate)})},setValue:function(t){var e=document.querySelectorAll('[data-calendar-label="picked"]')[0];if(this.removeActiveClass(),this.options.isMultiSelect){null==this.selectedStartDate?this.selectedStartDate=t:this.selectedStartDate&&this.selectedEndDate?(this.selectedStartDate=t,this.selectedEndDate=null):t<this.selectedStartDate?(this.selectedEndDate=this.selectedStartDate,this.selectedStartDate=t):t>this.selectedStartDate&&(this.selectedEndDate=t);var a=this.selectedStartDate?this.selectedStartDate:"",s=this.selectedEndDate?this.selectedEndDate:"",d=a.substring(a.length-2,a.length),l=s.substring(s.length-2,s.length);if(this.selectedEndDate)for(var i=d;i<=l;i++){var n=i<10?"0"+parseInt(i):i,c=a.substring(0,a.length-2)+n;document.querySelectorAll('[data-calendar-date="'+c+'"]')[0].classList.add("vcal-date--selected")}else document.querySelectorAll('[data-calendar-date="'+a+'"]')[0].classList.add("vcal-date--selected");e.innerHTML=a+" - "+s}else{document.querySelectorAll('[data-calendar-date="'+t+'"]')[0].classList.add("vcal-date--selected");e=document.querySelectorAll('[data-calendar-label="picked"]')[0];this.selectedDate=t,e.innerHTML=this.selectedDate}},createMonth:function(){for(var t=this.date.getMonth();this.date.getMonth()===t;)this.createDay(this.date.getDate(),this.date.getDay(),this.date.getFullYear()),this.date.setDate(this.date.getDate()+1);this.date.setDate(this.date.getDate()-1),this.makeEmptyDay(7-this.date.getDay()),this.date.setDate(1),this.label.innerHTML=this.monthsAsString(this.date.getMonth())+" "+this.date.getFullYear(),this.dateClicked()},makeSchdule:function(t){this.removeSchedule(),t&&(this.schedule=t);var e=Object.keys(this.schedule);for(i=0;i<e.length;i++){console.log(this.schedule[e[i]]);var a=this.schedule[e[i]].fromdate,s=this.schedule[e[i]].todate,d=this.schedule[e[i]].text;d=d||"";var l=a.substring(a.length-2,a.length),n=s.substring(s.length-2,s.length);this.date.setDate(l);var c=this.date.getDay();this.date.setDate(n);var r=this.date.getDay();c=0==c?7:c,r=0==r?7:r;var h=document.createElement("div");h.style.paddingLeft="1.3rem";var o=document.createElement("div");if(h.appendChild(o),o.setAttribute("data-caldendar-schedule-from",a),o.setAttribute("data-caldendar-schedule-to",s),o.setAttribute("data-caldendar-schedule-grp",e[i]),o.classList.add("vcal-schdule"),o.classList.add("vcal-left-radius"),o.innerHTML=d,console.log(" __fday"+c),console.log(" __fday"+r),console.log(" __fday"+l),console.log(" __fday"+n),c<r&&n-l<=7){o.classList.add("vcal-right-radius"),h.style.paddingRight="1.3rem",h.style.width=100*(r-c+1)+"%",h.classList.add("vcal-schdule-wrapper"),(y=document.querySelectorAll('[data-calendar-date="'+a+'"]')[0]).appendChild(h)}else{h.style.width=100*(7-c+1)+"%",h.classList.add("vcal-schdule-wrapper-right");var u=n-l-(7-c+1),g=n-u;this.date.setDate(g);var v=this.date.getFullYear().toString()+(this.date.getMonth()+1).toString()+this.date.getDate().toString();this.date.setDate(g-1);var m=this.date.getFullYear().toString()+(this.date.getMonth()+1).toString()+this.date.getDate().toString();console.log(u),console.log(g),console.log(m);var D=document.createElement("div");D.classList.add("vcal-schdule-wrapper");var p=document.createElement("div");D.appendChild(p),D.style.paddingRight="1rem",D.style.width=100*(u+1)+"%",p.setAttribute("data-caldendar-from",a),p.setAttribute("data-caldendar-schedule-to",s),p.setAttribute("data-caldendar-schedule-grp",e[i]);var y=document.querySelectorAll('[data-calendar-date="'+m+'"]')[0],S=document.querySelectorAll('[data-calendar-date="'+v+'"]')[0];p.classList.add("vcal-schdule"),p.classList.add("vcal-right-radius"),y.appendChild(h),S.appendChild(D)}}},removeSchedule:function(){var t=document.querySelectorAll('[class="vcal-schdule-wrapper"]'),e=document.querySelectorAll('[class="vcal-schdule-wrapper-right"]');if(t)for(var a=0;a<t.length;a++)t[a].remove();if(e)for(a=0;a<e.length;a++)e[a].remove()},monthsAsString:function(t){return["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"][t]},clearCalendar:function(){vanillaCalendar.month.innerHTML=""},removeActiveClass:function(){for(var t=0;t<this.activeDates.length;t++)this.activeDates[t].classList.remove("vcal-date--selected")}};