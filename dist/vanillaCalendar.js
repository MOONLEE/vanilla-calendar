var vanillaCalendar={month:document.querySelectorAll('[data-calendar-area="month"]')[0],next:document.querySelectorAll('[data-calendar-toggle="next"]')[0],previous:document.querySelectorAll('[data-calendar-toggle="previous"]')[0],label:document.querySelectorAll('[data-calendar-label="month"]')[0],activeDates:null,selectedDate:null,selectedStartDate:null,selectedEndDate:null,options:{isMultiSelect:!1,disablePastDays:!1,disableSelect:!1,disableSelectSchedule:!0,onSelectedSchedule:null},date:new Date,todaysDate:new Date,schedule:{},selectedSchedule:null,init:function(e,t,a){if(e)for(var s=Object.keys(e),l=0;l<s.length;l++)this.options[s[l]]=e[s[l]];var d=t?t-1:this.date.getDate();this.date.setDate(1),this.date.setMonth(d),this.createMonth(),this.createListeners()},createListeners:function(){var e=this;this.next&&this.next.addEventListener("click",function(){e.clearCalendar();var t=e.date.getMonth()+1;e.date.setMonth(t),e.createMonth()}),this.previous&&this.previous.addEventListener("click",function(){e.clearCalendar();var t=e.date.getMonth()-1;e.date.setMonth(t),e.createMonth()})},createDay:function(e,t,a){var s=document.createElement("div"),l=document.createElement("span");l.innerHTML=e,l.classList.add("vcal-data-num"),s.className="vcal-date";var d=this.date.getFullYear().toString(),i=this.leftZero((this.date.getMonth()+1).toString()),c=this.leftZero(this.date.getDate().toString());s.setAttribute("data-calendar-date",d+i+c),1===e&&(0===t?this.makeEmptyDay(6,-1):this.makeEmptyDay(t-1,-1)),this.options.disablePastDays&&this.date.getTime()<=this.todaysDate.getTime()-1?s.classList.add("vcal-date--disabled"):(s.classList.add("vcal-date--active"),s.setAttribute("data-calendar-status","active")),this.date.toString()===this.todaysDate.toString()&&s.classList.add("vcal-date--today"),s.appendChild(l),this.month.appendChild(s)},makeEmptyDay:function(e,t){-1==t?this.date.setDate(this.date.getDate()-e):this.date.setDate(this.date.getDate()+1);for(var a=0;a<e;a++){var s=document.createElement("div"),l=document.createElement("span"),d=this.date.getFullYear().toString(),i=this.leftZero((this.date.getMonth()+1).toString()),c=this.leftZero(this.date.getDate().toString());s.setAttribute("data-calendar-date",d+i+c),l.classList.add("vcal-data-num"),s.className="vcal-date",s.classList.add("vcal-date"),s.appendChild(l),this.month.appendChild(s),this.date.setDate(this.date.getDate()+1)}},dateClicked:function(){var e=this;this.activeDates=document.querySelectorAll('[data-calendar-status="active"]');for(var t=0;t<this.activeDates.length;t++)this.options.disableSelect||this.activeDates[t].addEventListener("click",function(t){e.setValue(this.dataset.calendarDate)})},setValue:function(e){var t=document.querySelectorAll('[data-calendar-label="picked"]')[0];if(this.removeActiveClass(),this.options.isMultiSelect){null==this.selectedStartDate?this.selectedStartDate=e:this.selectedStartDate&&this.selectedEndDate?(this.selectedStartDate=e,this.selectedEndDate=null):e<this.selectedStartDate?(this.selectedEndDate=this.selectedStartDate,this.selectedStartDate=e):e>this.selectedStartDate&&(this.selectedEndDate=e);var a=this.selectedStartDate?this.selectedStartDate:"",s=this.selectedEndDate?this.selectedEndDate:"",l=a.substring(a.length-2,a.length),d=s.substring(s.length-2,s.length);if(this.selectedEndDate)for(var i=l;i<=d;i++){var c=leftZero(i),n=a.substring(0,a.length-2)+c;document.querySelectorAll('[data-calendar-date="'+n+'"]')[0].classList.add("vcal-date--selected")}else document.querySelectorAll('[data-calendar-date="'+a+'"]')[0].classList.add("vcal-date--selected");t.innerHTML=a+" - "+s}else{document.querySelectorAll('[data-calendar-date="'+e+'"]')[0].classList.add("vcal-date--selected");t=document.querySelectorAll('[data-calendar-label="picked"]')[0];this.selectedDate=e,t.innerHTML=this.selectedDate}},createMonth:function(){for(var e=this.date.getMonth();this.date.getMonth()===e;)this.createDay(this.date.getDate(),this.date.getDay(),this.date.getFullYear()),this.date.setDate(this.date.getDate()+1);this.date.setDate(this.date.getDate()-1),this.makeEmptyDay(7-this.date.getDay(),1),this.date.setDate(1),this.date.setMonth(this.date.getMonth()-1),this.label.innerHTML=this.date.getFullYear()+"�� "+this.monthsAsString(this.date.getMonth()),this.dateClicked()},makeschedule:function(e){this.removeSchedule();var t=this;e&&(this.schedule=e);for(var a=Object.keys(this.schedule),s=0;s<a.length;s++){this.schedule.key=a[s];var l=this.schedule[a[s]].fromdate,d=this.schedule[a[s]].todate,i=this.schedule[a[s]].text,c=this.schedule[a[s]].style;i=i||"";var n=l.substring(l.length-2,l.length),r=d.substring(d.length-2,d.length),h=l.substring(l.length-4,l.length-2),o=d.substring(d.length-4,d.length-2);this.date.setDate(n),this.date.setMonth(parseInt(h)-1);var u=this.date.getDay();this.date.setDate(r),this.date.setMonth(parseInt(o)-1);var v=this.date.getDay();u=0==u?7:u,v=0==v?7:v;var g=document.createElement("div");g.classList.add("vcal-schedule-wrapper-left-edge");var m=document.createElement("div");if(m.innerHTML=i,g.appendChild(m),m.setAttribute("data-calendar-schedule-from",l),m.setAttribute("data-calendar-schedule-to",d),m.setAttribute("data-calendar-schedule-key",a[s]),m.classList.add("vcal-schedule"),m.classList.add("vcal-left-radius"),u<v&&h==o&&parseInt(r)-parseInt(n)<=7||parseInt(h)<parseInt(o)&&parseInt(n)>parseInt(r)){m.classList.add("vcal-right-radius"),g.style.width=100*(Math.abs(v-u)+1)+"%",g.classList.add("vcal-schedule-wrapper"),g.classList.add("vcal-schedule-wrapper-right-edge"),(M=document.querySelectorAll('[data-calendar-date="'+l+'"]')[0]).appendChild(g),this.options.disableSelectSchedule||m.addEventListener("click",function(e){t.scheduleSelected(this.dataset.calendarScheduleKey)}),c&&m.classList.add(c)}else{g.style.width=100*(7-u+1)+"%",g.classList.add("vcal-schedule-wrapper-right");var D=r-n-(7-u+1),S=r-D;this.date.setDate(S);var p=this.getYYYYMMDD(this.date);this.date.setDate(S-1);var y=this.getYYYYMMDD(this.date),f=document.createElement("div");f.classList.add("vcal-schedule-wrapper"),f.classList.add("vcal-schedule-wrapper-next-right-edge");var L=document.createElement("div");f.appendChild(L),f.style.width=100*(D+1)+"%",L.setAttribute("data-calendar-from",l),L.setAttribute("data-calendar-schedule-to",d),L.setAttribute("data-calendar-schedule-key",a[s]),D<2&&(L.innerHTML=i,m.innerHTML="");var M=document.querySelectorAll('[data-calendar-date="'+y+'"]')[0],b=document.querySelectorAll('[data-calendar-date="'+p+'"]')[0];L.classList.add("vcal-schedule"),L.classList.add("vcal-right-radius"),M.appendChild(g),b.appendChild(f),this.options.disableSelectSchedule||(m.addEventListener("click",function(e){t.scheduleSelected(this.dataset.calendarScheduleKey)}),L.addEventListener("click",function(e){t.scheduleSelected(this.dataset.calendarScheduleKey)})),c&&(m.classList.add(c),L.classList.add(c))}}},removeSchedule:function(){var e=document.querySelectorAll(".vcal-schedule-wrapper");console.log(e);var t=document.querySelectorAll(".vcal-schedule-wrapper-right");if(console.log(t),e)for(var a=0;a<e.length;a++)e[a].remove();if(t)for(a=0;a<t.length;a++)t[a].remove()},scheduleSelected:function(e){var t=this.schedule[e];t.key=e,this.removeScheduleSelected();for(var a=document.querySelectorAll('[data-calendar-schedule-key="'+e+'"]'),s=0;s<a.length;s++)a[s].classList.add("vcal-schedule--selected");this.options.onSelectedSchedule&&this.options.onSelectedSchedule(t)},removeScheduleSelected:function(){for(var e=document.querySelectorAll(".vcal-schedule"),t=0;t<e.length;t++)e[t].classList.remove("vcal-schedule--selected")},updateScheduleText:function(e){for(var t=Object.keys(e),a=0;a<t.length;a++){var s=t[a];this.schedule[s].text=e[s].text,this.schedule[s].style=e[s].style;for(var l=document.querySelectorAll('[data-calendar-schedule-key="'+s+'"]'),d=0;d<l.length;d++)""!=l[d].innerHTML&&(l[d].innerHTML=this.schedule[s].text),this.schedule[s].style&&(l[d].classList.remove("end"),l[d].classList.remove("free"),l[d].classList.remove("busy"),l[d].classList.add(this.schedule[s].style))}},leftZero:function(e){return e<10?"0"+e:e},getYYYYMMDD:function(e){return this.date.getFullYear().toString()+this.leftZero((this.date.getMonth()+1).toString())+this.leftZero(this.date.getDate().toString())},monthsAsString:function(e){return["1��","2��","3��","4��","5��","6��","7��","8��","9��","10��","11��","12��"][e]},clearCalendar:function(){vanillaCalendar.month.innerHTML=""},removeActiveClass:function(){for(var e=0;e<this.activeDates.length;e++)this.activeDates[e].classList.remove("vcal-date--selected")}};